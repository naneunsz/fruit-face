<!DOCTYPE html>
<html>
<head>
<!-- Required meta tags -->
<meta charset="utf-8" />
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no" />
<meta name="title" content="과즙상 테스트">
<meta name="Keywords" content="과즙상테스트, 인공지능, 사과상, 체리상, 복숭아상, 석류상, 살구상, 레몬상, 테스트, 과즙상찾기, 인공지능테스트, 나와 닮은 과일, 연예인 과즙상, 과즙상 연예인, fruitface, 과즙, 과일테스트">
<meta name="Description" content="인공지능 알고리즘을 통해 당신과 닮은 과일을 알려드립니다! 사과, 체리, 복숭아, 석류, 살구, 레몬 중 나는 어떤 과일을 닮았을까요??">

<meta property="og:image" content="img\fruits.png"/> 
<meta property="og:url" content="http://fruits-face.netlify.app"/> 
<meta property="og:description" content="인공지능 알고리즘을 통해 당신과 닮은 과일을 알려드립니다! 사과, 체리, 복숭아, 석류, 살구, 레몬 중 나는 어떤 과일을 닮았을까요??"/> 
<meta property="og:title" content="과즙상 테스트"/>
<meta property="og:type" content="website"/>



<!-- Bootstrap CSS -->
<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
	integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2"
	crossorigin="anonymous" />
<link rel="shortcut icon" type="image/x-icon" href="img\fruits.png">

<title>과즙상 테스트</title>
<link rel="stylesheet" href="style.css" />
<!-- Go to www.addthis.com/dashboard to customize your tools -->
<script type="text/javascript"
	src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5fc85eba73a7bd71"></script>
</head>

<body>
	<nav class="navbar navbar-expand-lg navbar-light bg-light nav-distance">
		<a class="navbar-brand" href="https://real-fruit-face-sdmez.run.goorm.io/real_fruit_face/fruit.html">과즙상 테스트</a>
		<button class="navbar-toggler" type="button" data-toggle="collapse"
			data-target="#navbarNav" aria-controls="navbarNav"
			aria-expanded="false" aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse" id="navbarNav">
			<ul class="navbar-nav">
				<li class="nav-item active"><a class="nav-link" href="https://real-fruit-face-sdmez.run.goorm.io/real_fruit_face/fruit.html">과즙상 테스트
						<span class="sr-only">(current)</span>
				</a></li>
				<li class="nav-item"><a class="nav-link" href="https://winter-time.tistory.com">블로그</a></li>
				<li class="nav-item"><a class="nav-link" href="https://www.instagram.com/naneunyasz___/?hl=ko">159instagram</a></li>
				<li class="nav-item"><a class="nav-link disabled" href="#"
					tabindex="-1" aria-disabled="true">naneunsz</a></li>
			</ul>
		</div>
	</nav>
	<section class="section">
		<h1 class="title">과즙상 테스트</h1>
		<h2 class="subtitle">나는 어떤 과일을 닮았을까?</h2>
	</section>
	<section class="youtubte">
		<div class="container mt-5 youtubte-cover d-flex flex-row-reverse">
			<a href="https://www.youtube.com/channel/UCQNE2JmbasNYbjGAcuBiRRg" class="youtube-link">&nbsp&nbsp조코딩 유튜브 참조</a> <img
				src="img\youtube.png" alt="" class="youtube-icon" />
		</div>
	</section>
	<script class="jsbin"
		src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
	<div class="mt-3 container file-upload">
		<div class="image-upload-wrap">
			<input class="file-upload-input" type="file"
				onchange="readURL(this);" accept="image/*" />
			<div class="drag-text">
				<img class="upload-icon mt-5 pt-5" src="img\file-upload.png" />
				<h3 class="upload-text mp-5 pt-5">사진을 업로드해주세요!</h3>
			</div>
		</div>
		<div class="file-upload-content">
			<img class="file-upload-image" id="face-image" src="#"
				alt="your image" />
			<div id="loading" class="animated bounce" display:none;>
				<div class="spinner-border" role="status">
					<span class="sr-only">Loading...</span>
				</div>
				<p class="text-center">과즙팡팡! 당신에게선 어떤 과즙이 흐를까요?</p>
			</div>

			<p class="result-message">
			<!-- <div class="result-main"></div>
			<div class="result-explain pt-2"></div>
			<div class="result-ex pt-2 pb-2"></div> -->
			</p>
			<div id="label-container"
				class="d-flex flex-column justify-content-around"></div>

			<!-- Go to www.addthis.com/dashboard to customize your tools -->
			<div class="addthis_inline_share_toolbox"></div>

			<div class="pt-5 image-title-wrap">
				<button type="button" onclick="window.location.reload()"
					class="tray-again-btn">
					<span class="try-again-text">다른 사진으로 재시도</span>
				</button>
			</div>
		</div>
	</div>
	<ins class="kakao_ad_area" style="display:none;" 
	data-ad-unit    = "DAN-G4jQWSGo0R6BMnrc" 
	data-ad-width   = "320" 
	data-ad-height  = "100"></ins> 
   <script type="text/javascript" src="//t1.daumcdn.net/kas/static/ba.min.js" async></script>
   <ins class="kakao_ad_area" style="display:none;" 
   data-ad-unit    = "DAN-dQmacWHIfU9gyivN" 
   data-ad-width   = "320" 
   data-ad-height  = "100"></ins> 
  <script type="text/javascript" src="//t1.daumcdn.net/kas/static/ba.min.js" async></script>
  <ins class="kakao_ad_area" style="display:none;" 
 data-ad-unit    = "DAN-KM3bp7TISnQjGmXu" 
 data-ad-width   = "320" 
 data-ad-height  = "100"></ins> 
<script type="text/javascript" src="//t1.daumcdn.net/kas/static/ba.min.js" async></script>
	<footer class="footer pt-5 container d-flex justify-content-center">
		<div>
			<p>
				© 박수진 naneunsz 2020. All Rights Reserved.
			</p>
		</div>
	</footer>
	
<script type="text/javascript" src="//t1.daumcdn.net/kas/static/ba.min.js" async></script>
<script type="text/javascript" src="//t1.daumcdn.net/kas/static/ba.min.js" async></script>
<script type="text/javascript" src="//t1.daumcdn.net/kas/static/ba.min.js" async></script>

	<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
		integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
		crossorigin="anonymous"></script>
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
		crossorigin="anonymous"></script>
	<script
		src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.3.1/dist/tf.min.js"></script>
	<script
		src="https://cdn.jsdelivr.net/npm/@teachablemachine/image@0.8/dist/teachablemachine-image.min.js"></script>
	<script>
			function readURL(input) {
				if (input.files && input.files[0]) {
					var reader = new FileReader();

					reader.onload = function (e) {
						$('.image-upload-wrap').hide();

						$('.file-upload-image').attr('src', e.target.result);
						$('.file-upload-content').show();

						$('.image-title').html(input.files[0].name);
					};

					reader.readAsDataURL(input.files[0]);
					init().then(function () {
						console.log('hello');
						predict();
						$('#loading').hide();
					});
				} 
			}

			$('.image-upload-wrap').bind('dragover', function () {
				$('.image-upload-wrap').addClass('image-dropping');
			});
			$('.image-upload-wrap').bind('dragleave', function () {
				$('.image-upload-wrap').removeClass('image-dropping');
			});
		</script>
	<!-- <script type="text/javascript">
			$(window).load(function () {
				$('#loading').hide();
			});
		</script> -->

	<script type="text/javascript">
			// More API functions here:
			// https://github.com/googlecreativelab/teachablemachine-community/tree/master/libraries/image

			// the link to your model provided by Teachable Machine export panel
			const URL = 'https://teachablemachine.withgoogle.com/models/M8D5Cn1lg/';

			let model, webcam, labelContainer, maxPredictions;

			// Load the image model and setup the webcam
			async function init() {
				const modelURL = URL + 'model.json';
				const metadataURL = URL + 'metadata.json';

				// load the model and metadata
				// Refer to tmImage.loadFromFiles() in the API to support files from a file picker
				// or files from your local hard drive
				// Note: the pose library adds "tmImage" object to your window (window.tmImage)
				model = await tmImage.load(modelURL, metadataURL);
				maxPredictions = model.getTotalClasses();

				// append elements to the DOM

				labelContainer = document.getElementById('label-container');
				for (let i = 0; i < maxPredictions; i++) {
					var element = document.createElement("div")
					element.classList.add("d-flex")
					labelContainer.appendChild(element);
				}
			}

			// run the webcam image through the image model
			async function predict() {
				// predict can take in an image, video or canvas html element
				var image = document.getElementById('face-image');
				const prediction = await model.predict(image, false);
				prediction.sort((a, b) => parseFloat(b.probability) - parseFloat(a.probability));
				var resultTitle, resultExplain, resultCeleb;

				switch (prediction[0].className) {
					case 'Apple':
						resultTitle = '상큼한 사과상';
						resultExplain = '보고만 있어서 풋풋한 당신은 아삭한 사과상! 초록초록한 풋사과 같은 매력과 백설공주의 빨간사과 같은 두가지 매력을 다 지닌 당신은 뭐든지 가능한 멀티테이너의 기질이 있군요! 어른들에게도 싹싹하고 예의 발라서 상견례 프!리!패!스!상! 이에요';
						resultCeleb = '사과상 연예인 : 조이(레드벨벳), 김유정, 조수민(배우), 수지, 효정(오마이걸)';
						break;
					case 'Peach':
						resultTitle = '핑크피치 복숭아상';
						resultExplain = '존재자체가 귀여운 당신은 하얗고 뽀얀 복숭아를 닮았어요! 주변 사람들의 귀여움을 독차지하는 당신은 역시 귀여움이 비장의 무기예요! 약간의 질투심도 가지고 있지만 질투하는 모습 마저도 너무 사랑스러운 당신은 어딜가나 인기가 넘칩니다! ';
						resultCeleb = '복숭아상 연예인 : 아이유, 설리, 수호(엑소)';
						break;
					case 'Cherry':
						resultTitle = '인간체리 체리상';
						resultExplain = '혹시 당신은 레드립이 잘 어울리지 않나요? 땡글땡글 체리처럼 귀여운 매력도 있지만 레드가 주는 섹시함도 완!벽!소!화! 가능한 멋쟁이네요! 적극적이고 주도적인 성격으로 사람들을 잘 이끄는 리더의 기질이 있어요!';
						resultCeleb = '체리상 연예인 : 구하라, 수진(아이들), 유아(오마이걸), 박지훈';
						break;
					case 'Apricot':
						resultTitle = '뽀얀 살구상';
						resultExplain = '보고만 있어도 기분이 좋아지는 매력을 가졌어요! 러블리하고 사랑스럽다는 말로는 당신의 매력을 담기에는 부족해요! 넘치는 배려심으로 가끔씩 손해를 보기도 하지만 그 이상으로 당신은 얻는 것이 많답니다!';
						resultCeleb = '살구상 연예인 : 웬디(레드벨벳), 정채연(다이아), 임시완';
						break;
					case 'Lemon':
						resultTitle = '새콤달콤 레몬상';
						resultExplain = '보고만 있어도 상큼한 레몬처럼 당신은 톡톡튀는 매력을 가지고 있군요! 당신에게 한번 빠지면 중독되서 자꾸만 찾게 된답니다! 인싸 기질이 충분한 당신은 주변사람들에게 인기가 많고 털털하고 발랄한 성격이 큰 매력 포인트예요!';
						resultCeleb = '레몬상 연예인 : 나은(에이프릴), 장원영(아이즈원)';
						break;
					case 'Pomegranate':
						resultTitle = '매혹적인 석류상';
						resultExplain = '고혹적이고 고급스러운 느낌이 물씬 나는 석류를 닮았네요! 겉으로는 도도하고 차가워보일지라도 누구보다 따뜻한 마음을 가졌어요! 겉바속촉 같은 당신은 촉촉한 마음을 가졌군요?';
						resultCeleb = '석류상 연예인 : 태연(소녀시대), 아이린(레드벨벳), 하나(구구단), 지호(오마이걸)';
						break;
				}
				
				var title = "<div class='" + prediction[0].className + "-fruit-title'>" + resultTitle + "</div>"
				var explain = "<div class='fruit-explain pt-2'>" + resultExplain + "</div>"
                var celeb = "<div class='" + prediction[0].className + "-fruit-celeb pt-2 pb-2'>" + resultCeleb + "</div>"
                $('.result-message').html(title + explain + celeb);
                var barWidth;

                for(let i = 0; i<maxPredictions; i++){
                    if(prediction[i].probability.toFixed(2) > 0.1){
                        barWidth = Math.round(prediction[i].probability.toFixed(2)*100) + "%";
                    } else if(prediction[i].probability.toFixed(2) >= 0.01){
                        barWidth = "4%"
                    } else{
                        barWidth = "2%"
                    }

                    var labelTitle;
                    switch(prediction[i].className){
                        case "Apple":
                            labelTitle = "사과상";
                            break;
                        case "Peach":
                            labelTitle = "복숭아상";
                            break;
                        case "Apricot":
                            labelTitle = "살구상";
                            break;
                        case "Cherry":
                            labelTitle = "체리상";
                            break;
                        case "Lemon":
                            labelTitle = "레몬상";
                            break;
                        case "Pomegranate":
                            labelTitle = "석류상";
                            break;

                    }
                    var label = "<div class='fruit-label d-flex align-items-center'>" + labelTitle + "</div>"
                    var bar = "<div class='bar-container position-relative container'><div class='" + prediction[i].className + "-box'></div><div class='d-flex justify-content-center align-items-center " + prediction[i].className + "-bar' style='width: " + barWidth + "'><span class='d-block percent-text'>" + Math.round(prediction[i].probability.toFixed(2) * 100) + "%</span></div></div>"
                labelContainer.childNodes[i].innerHTML = label + bar;
                              
                }
                
                // $('.result-main').html(resultTitle);
				// $('.result-explain').html(resultExplain);
				// $('.result-ex').html(resultCeleb);
				
                // for (let i = 0; i < maxPredictions; i++) {
				// 	const classPrediction =
				// 		prediction[i].className + ': ' + prediction[i].probability.toFixed(2);
				// 	labelContainer.childNodes[i].innerHTML = classPrediction;
				// }
			}
		</script>
</body>
<!-- Copyright (c) 2020 by Aaron Vanston (https://codepen.io/aaronvanston/pen/yNYOXR)

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 -->
</html> 